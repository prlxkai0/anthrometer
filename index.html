<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AnthroMeter — Good Times Index</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>
<body>
<main class="container">
  <header>
    <h1>AnthroMeter <span class="muted">/ Good Times Index</span></h1>
    <p class="sub">Start=300 • Soft floor=100 • Unbounded • Daily-updating</p>
    <p class="updated">Last updated: <span id="updated">—</span></p>

    <!-- Clean current readout -->
    <div id="current" class="current">
      <div class="item">
        <span class="label">Current GTI</span>
        <span id="current-gti" class="value">—</span>
      </div>
      <div class="item">
        <span class="label">Year</span>
        <span id="current-year" class="value">—</span>
      </div>
    </div>
  </header>

  <!-- Tabs -->
<nav class="tabs">
  <button class="tab active" data-tab="overview" type="button">Overview</button>
  <button class="tab" data-tab="details" type="button">Details</button>
  <button class="tab" data-tab="sources" type="button">Sources & Methodology</button>
  <button class="tab" data-tab="changelog" type="button">Change Log</button>
</nav>

<!-- Tab: Overview -->
<section id="tab-overview" class="tabpanel active">
  <div class="controls card">
    <div class="row">
      <div class="group">
        <label>Line color</label>
        <select id="line-color">
          <option value="auto">Auto</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
          <option value="purple">Purple</option>
          <option value="orange">Orange</option>
          <option value="red">Red</option>
        </select>
      </div>
      <div class="group">
        <label>Line weight</label>
        <select id="line-weight">
          <option value="2">Thin</option>
          <option value="3" selected>Normal</option>
          <option value="5">Bold</option>
        </select>
      </div>
      <div class="group toggle">
        <label><input type="checkbox" id="decade-zoom"> Past decade only</label>
      </div>
      <div class="group toggle">
        <label><input type="checkbox" id="dark-mode"> Dark mode</label>
      </div>
    </div>
  </div>

  <div class="group">
  <label>Quick range</label>
  <select id="range-select">
    <option value="all" selected>All (1900–present)</option>
    <option value="decade">Past decade</option>
    <option value="20y">Past 20 years</option>
    <option value="5y">Past 5 years</option>
  </select>
</div>
<div class="group">
  <label>&nbsp;</label>
  <div>
    <button id="btn-png" class="btn">Export PNG</button>
    <button id="btn-csv" class="btn">Export CSV</button>
  </div>
</div>

  <section id="chart" class="card"></section>

  <div id="year-summary" class="card" style="display:none;">
    <h2 class="h2">Year Summary</h2>
    <p><strong id="ys-year">—</strong></p>
    <p id="ys-hover">—</p>
    <p id="ys-ai">—</p>
  </div>
</section>

  <!-- Tab: Details -->
  <section id="tab-details" class="tabpanel">
    <div class="grid two">
      <div class="card">
        <h2 class="h2">Category Breakdown</h2>
        <div id="category-bars"></div>
        <div id="category-table" class="table-wrap"></div>
      </div>
      <div class="card">
        <h2 class="h2">Method Snapshot</h2>
        <ul class="bullets">
          <li>Weighted hybrid model (planet + people)</li>
          <li>Entropy = drag · Sentiment = boost</li>
          <li>Category scores 0–100; index line unbounded (floor=100)</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Tab: Sources & Methodology -->
<section id="tab-sources" class="tabpanel">
  <div class="card">
    <h2 class="h2">Sources</h2>
    <div id="sources-list" class="table-wrap"></div>
  </div>
  <div class="card">
    <h2 class="h2">Methodology</h2>
    <div id="methodology"></div>
  </div>
</section>

<!-- Tab: Change Log -->
<section id="tab-changelog" class="tabpanel">
  <div class="card">
    <h2 class="h2">Change Log</h2>
    <div id="changelog-list" class="table-wrap"></div>
  </div>
</section>

  <footer>
    <p class="small">Prototype for private testing. Scores are synthetic for now.</p>
  </footer>
</main>

<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<script src="script.js" defer></script>
